<html>
<head>
<title>Widget test</title>
<meta http-equiv="refresh" content="1" >
<script src="user.js"></script>
<script type="text/javascript" 
src="lib/jquery.min.js">
</script>
<script type="text/javascript" 
    src="lib/jquery-ui.min.js">
</script>
</head>

<body>
<h1 id="header" style="color: red">testbed js !</h1>
<canvas id="myCanvas" width="578" height="200" style="border:1px solid #000000;"></canvas>
<br/>
<textarea 
    style="width: 578px; height: 100px;"
    type="text" id="head" ></textarea>
<script>
function drawLine(line){
  var canvas = document.getElementById('myCanvas');
  var context = canvas.getContext('2d');

  context.beginPath();
//   context.moveTo(line.left, line.top);
//   context.lineTo(line.right, line.top);
//   context.lineTo(line.right, line.bottom);
//   context.lineTo(line.left, line.bottom);
//   context.lineTo(line.left, line.top);
  context.rect(line.left,line.top,line.width,line.height);
  context.stroke();
}

var user = new User("john","j@k.com");
// document.getElementById("head").value = user.email; 
$('#head').value = user.email+11;
</script>

<script type="text/javascript" >
   function b(){
       var p = new Person();
       p.name = "xiang yu";
       p.age = 30;
       document.getElementById("head").value += p._string();
       var r = new SampleReport();
       $('#myCanvas').attr('width',r.width);
       $('#myCanvas').attr('height',r.height);
       r.report.lines.forEach(function(line){
           drawLine(line)
       })
    //   a();
   }
   b();
   
</script>
</body>
</html>